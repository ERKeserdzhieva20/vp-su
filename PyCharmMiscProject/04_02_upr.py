# Списъци (Lists) - подредени, променливи колекции от елементи

# Дефиниране на списък с числа
s = [1, 3, 5, 7]

# Отпечатване на втория елемент (индексирането започва от 0)
print(s[1])  # Ще отпечата: 3

# Промяна на стойността на втория елемент
s[1] = 11

# Отпечатване на целия списък след промяната
print(s)  # Ще отпечата: [1, 11, 5, 7]

# Създаване на празен списък
s = list()

# Създаване на списък от символи на низ
s1 = list('Python')  # Ще създаде: ['P', 'y', 't', 'h', 'o', 'n']
print(s1)

# Дефиниране на списък със смесени типове данни
s = ['P', 'Y', 'T', 'H', 'O', 'N', 3]  # Списък с букви и число

# Създаване на празен списък и добавяне на елементи
s = []
s.append(5)    # Добавя 5 в края на списъка
s.append(10)   # Добавя 10 в края на списъка
s.append(20)   # Добавя 20 в края на списъка
print(s)       # Ще отпечата: [5, 10, 20]

# Конкатенация (събиране) на два списъка
s = [1, 2, 3, 4, 5, 6]
s1 = [9, 8]
s2 = s + s1    # Комбинира елементите на двата списъка
print(s2)      # Ще отпечата: [1, 2, 3, 4, 5, 6, 9, 8]

# Вложени списъци (многомерни списъци)
s = [[1, 2, 3, 4], ['a', 'b', 'c'], [10, 20]]

# Достъп до елементи във вложени списъци
print(s[0][3])  # Достъп до 4-тия елемент от първия списък: 4
print(s[2][0])  # Достъп до 1-вия елемент от третия списък: 10

# Итериране през елементите на списък (директно)
s = [1, 2, 3, 4, 5, 6]
for i in s:
    print(i, end=' ')  # Отпечатва: 1 2 3 4 5 6

# Итериране през списък чрез индекси
s = [1, 2, 3, 4, 5, 6]
for i in range(len(s)):
    print(s[i], end=' ')  # Отпечатва: 1 2 3 4 5 6

# Проверка за наличие на елемент в списък
s = [2, 4, 6, 8]
print(4 in s)  # True - 4 се съдържа в списъка

# Полезни методи за работа със списъци
s = [2, 4, 6, 8, 2]
print(s.count(2))  # Брой срещания на елемент 2: 2
# print(s.index(3))  # Ще даде грешка, защото 3 не е в списъка
print(min(s))      # Минимална стойност в списъка: 2
print(max(s))      # Максимална стойност в списъка: 8

# Добавяне на елементи в списък
s = [2, 4, 6, 8, 2]
s.append(22)       # Добавя 22 в края на списъка
print(s)           # [2, 4, 6, 8, 2, 22]

s += [44, 88]      # Добавя множество елементи в края
print(s)           # [2, 4, 6, 8, 2, 22, 44, 88]

# Вмъкване и премахване на елементи
s.insert(0, 90)    # Вмъква 90 на позиция 0 (началото)
print(s)           # [90, 2, 4, 6, 8, 2, 22, 44, 88]

s.pop(0)           # Премахва елемента на позиция 0
print(s)           # [2, 4, 6, 8, 2, 22, 44, 88]

s.remove(2)        # Премахва първото срещане на елемент 2
print(s)           # [4, 6, 8, 2, 22, 44, 88]

del s[4]           # Премахва елемента на индекс 4
print(s)           # [4, 6, 8, 2, 44, 88]

# Работа със случайни елементи
import random
s = [2, 4, 6, 8, 2]
random.shuffle(s)  # Разбърква елементите на списъка
print(s)           # Примерен изход: [4, 8, 6, 2, 2]

print(random.choice(s))  # Избира случаен елемент от списъка

s.reverse()        # Обръща реда на елементите в списъка
print(s)           # [2, 2, 6, 8, 4]

# Сортиране на списъци
s = [45, 10, 55, 5, 35]
s.sort()           # Сортиране във възходящ ред
print(s)           # [5, 10, 35, 45, 55]

s.sort(reverse=True)  # Сортиране в низходящ ред
print(s)           # [55, 45, 35, 10, 5]

# Сортиране на списък от низове без значение на регистър
s1 = ['s', 'T', 'a', 'E', 'f']
s1.sort(key=str.lower)  # Сортиране, игнорирайки големи/малки букви
print(s1)          # ['a', 'E', 'f', 's', 'T']

# Сортиране на списък от низове с значение на регистър
s1 = ['s', 'T', 'a', 'E', 'f']
s1.sort()          # Сортиране по ASCII стойности (главни преди малки)
print(s1)          # ['E', 'T', 'a', 'f', 's']

# Кортежи (Tuples) - непроменливи, подредени колекции

# Създаване на кортеж от 3 елемента
k = (7, 5, 3)
print(k)

# Преобразуване на списък в кортеж
tup = tuple([10, 20, 30])
print(tup)

# Преобразуване на низ в кортеж
tup1 = tuple('python')  # Създава кортеж от символите на низа
print(tup1)             # ('p', 'y', 't', 'h', 'o', 'n')

# Създаване на празен кортеж
tup2 = tuple()
print(tup2)

# Операции с кортежи
k = (7, 5, 3, 6, 1)
print(k[0])        # Достъп до елемент по индекс: 7
print(k[2:3])      # Срез (slice): (3,)
print(7 in k)      # Проверка за наличие на елемент: True
print(k * 3)       # Повторение на кортежа 3 пъти

# Конкатенация на кортежи
tup = k + (2, 4)   # Събиране на два кортежа
print(tup)

# Методи на кортежи
tup = (7, 5, 3, 6, 1)
print(tup.index(1))  # Връща индекса на първото срещане на 1: 4
print(tup.count(5))  # Брой срещания на елемент 5: 1

# Итериране през елементите на кортеж
for i in tup:
    print(i, end=' ')  # Отпечатва: 7 5 3 6 1

# Речници (Dictionaries) - колекции от ключ-стойност двойки

# Създаване на празен речник
d = dict()

# Създаване на речник с ключови думи
d1 = dict(name='Ivan', last_name='Petrov')
print(d1)

# Създаване на речник от списък от кортежи
d3 = dict([('name', 'Polina'), ('l_name', 'Koleva')])
print(d3)

# Създаване на речник с празни фигурни скоби
d = {}
d['name'] = 'Petyr'    # Добавяне на ключ 'name' със стойност 'Petyr'
d['l_name'] = 'Kolev'  # Добавяне на ключ 'l_name' със стойност 'Kolev'
print(d)

# Дефиниране на речник директно
d = {'name': 'Ivan', 'last_name': 'Ivanov'}
print(d)

# Достъп до несъществуващ ключ (ще даде грешка)
# print(d['fname'])  # KeyError: 'fname'

# Проверка за наличие на ключ в речник
b = 'fname' in d
print(b)  # False - ключът 'fname' не съществува

# Дължина на речник (брой ключ-стойност двойки)
d = {'name': 'Ivan', 'last_name': 'Ivanov'}
print(len(d))  # 2

# Добавяне на нов елемент в речник
d['s_name'] = 'Petrov'
print(d)  # {'name': 'Ivan', 'last_name': 'Ivanov', 's_name': 'Petrov'}

# Премахване на елемент от речник
del d['s_name']
print(d)  # {'name': 'Ivan', 'last_name': 'Ivanov'}

# Итериране през речник
d = {"name": "Ivan", "last_name": "Ivanov"}
for key in d.keys():  # .keys() връща всички ключове
    print("({0} => {1})".format(key, d[key]), end=' ')

# Сортирано итериране през речник
d = {"name": "Ivan", "last_name": "Ivanov"}
keys = list(d.keys())  # Преобразуване на ключовете в списък
keys.sort()           # Сортиране на ключовете
for key in keys:
    print("{0} => {1} ".format(key, d[key]), end=' ')

# Множества (Sets) - неподредени колекции от уникални елементи

# Създаване на множество от списък (автоматично премахва дубликати)
s = set([1, 2, 3, 1])  # Ще създаде: {1, 2, 3}
print(s)

# Създаване на множество от низ
s2 = set("hello")  # Ще създаде: {'h', 'e', 'l', 'o'}
print(s2)

# Итериране през елементите на множество
s2 = set("hello")
for i in s2:
    print(i, end=' ')  # Примерен изход: l h e o

# Брой елементи в множество
print(len(s2))  # 4

# Обединение на множества (всички уникални елементи от двете множества)
s = set([1, 2, 3])
s1 = set([4, 2, 6])
s3 = s | s1      # Оператор за обединение
print(s3)        # {1, 2, 3, 4, 6}

# Разлика на множества (елементи в първото, но не и във второто)
s = set([1, 2, 3, 4])
s1 = set([2, 4, 6])
s2 = s - s1      # Елементи в s, но не и в s1
print(s2)        # {1, 3}
s3 = s1 - s      # Елементи в s1, но не и в s
print(s3)        # {6}

# Сечение на множества (общи елементи)
s = set([1, 2, 3, 4])
s1 = set([2, 4, 6])
s4 = s & s1      # Оператор за сечение
print(s4)        # {2, 4}

# Симетрична разлика (елементи, които са само в едно от множествата)
s = set([1, 2, 3, 4])
s1 = set([2, 4, 6])
s5 = s ^ s1      # Оператор за симетрична разлика
print(s5)        # {1, 3, 6}

# Проверка за подмножество
s = {1, 2, 3}
s1 = {1, 2}
print(s1 <= s)   # True - всички елементи на s1 са в s

# Добавяне на елемент в множество
s1 = set([2, 4, 6])
s1.add(8)
print(s1)        # {8, 2, 4, 6}

# Премахване на елемент от множество
s1 = set([2, 4, 6])
s1.remove(2)
print(s1)        # {4, 6}

# Низове (Strings) - последователности от символи

# Дефиниране на низове
print("Hello")
print('Hello')
print('Hello, " World " ')  # Използване на единични кавички за низ с двойни кавички вътре

# Достъп до символи в низ
S = "123"
print(S[0])  # Първи символ: '1'

# Операции със срезове на низове
s1 = "Hello"
print(s1[:])     # Целият низ: 'Hello'
print(s1[:-1])   # Без последния символ: 'Hell'
print(s1[1::2])  # От индекс 1 до края със стъпка 2: 'el'
print(s1[1:])    # От индекс 1 до края: 'ello'

# Конкатенация на низове
print("Hello" + "world")  # "Helloworld"

# Проверка за подниз
print("hell" in "Hello")  # False
print("hell" in "hello")  # True

# Повторение на низ
print("f" * 5)  # "fffff"

# Дължина на низ
s = "Здравей"
print(len(s))  # 7

# Преобразуване в низ
print(str(123))  # "123"

# Репрезентация на низ (полезно за дебъг)
s = "Hello World"
print(repr(s))  # 'Hello World'

# Обединяване на елементи от списък в низ
parts = ["apple", "banana", "cherry"]
s = ", ".join(parts)  # Свързва елементите със запетая и интервал
print(s)              # "apple, banana, cherry"

# Разделяне на низ на списък
s = "apple, banana, cherry"
print(s.split(", "))  # Разделя низа по ", ": ['apple', 'banana', 'cherry']

# Промяна на регистър на букви
print("this is a test".title())  # 'This Is A Test'
print("hELLo worLD".title())     # 'Hello World'

# Търсене на подниз
s = "banana"
print(s.find("an"))  # Позиция на първото "an": 1
print(s.find("na"))  # Позиция на първото "na": 2
print(s.find("x"))   # -1 (не е намерен)

# Брой срещания на подниз
s = "hello world"
print(s.count("l"))   # Брой на 'l': 3
print(s.count("lo"))  # Брой на 'lo': 1
print(s.count("z"))   # Брой на 'z': 0

# Замяна на подниз
s = "one one one"
print(s.replace("one", "two"))  # "two two two"

# 3. Напишете програма, която въвежда цяло число n. създава списък a
# от n случайни цели числа в интервала [1, 9]. Построява нов списък b, като
# събира по двойки съседни елементи без припокриване
# b[0] = a[0] + a[1]
# b[1] = a[2] + a[3]
# Ако n е нечетно, последният елемент се игнорира (не влиза в b).
# Отпечатва a и b.

import random
n = int(input("Enter an integer n: "))

for i in range(n):
    if i == 0:
        a = []
    a.append(random.randint(1, 9))

b = []

if (n % 2) != 0:
    n -= 1

for i in range(0, n, 2):
    b.append(a[i] + a[i + 1])
    i += 1

print("List a:", a)
print("List b:", b)


# 4. Напишете програма , в която потребителя въвежда текст и на негова база
# се създава речник. За ключове на речника служат символите от текста, а
# стойността на елементите се определя от броя на съответните символи в
# текста.
# Примерен вход : SSWTWWTAAA
# Речникът ще се състои от 4 елемента :
# А:3 S:2 T:2 W:3

text = input("Enter a text: ")
char_count = {}
for char in text:
    if char in char_count:
        char_count[char] += 1
    else:
        char_count[char] = 1
print("Character count dictionary:", char_count)

# 5. Създай речник, в който за всеки символ от текста запазваш списък с
# позициите (индексите), на които този символ се среща. Индексите са 0-
# базирани (първият символ е на позиция 0). Накрая отпечатай всеки символ и
# неговия списък с позиции.
# Вход:
# SSWTWWTAAA
# Изход:
# S: [0, 1]
# W: [2, 4, 5]
# T: [3, 6]
# A: [7, 8, 9]

text = input("Enter a text: ")
char_count = {}
i=0
for char in text:
    if char in char_count:
        char_count[char].append(i)
    else:
        char_count[char] = [i]
    i+=1

for key, value in char_count.items():
    print(f"{key}: {value}")

# 6. Напишете програма, в която потребителя въвежда чяло число. От него се
# създава списък състоящ се от числата от 1 до това число . Въз основа на
# този списък се създава речник, в който елементите на списъка служат за
# ключове на елементите на речника , а стойностите на тези елементи в
# речника са елементите на списъка но в обратен ред.
# Пример : ако сме въвели числото 4 , създава се списъка [1,2,3,4 ] и на
# негова основа се създава речник с 4 елемента : {1:4, 2:3, 3:2, 4:1}

num = int(input("Enter an integer: "))
num_list = list(range(1, num + 1))

num_dict = dict()
for i in range(len(num_list)):
    num_dict[i + 1] = num_list[num - i - 1]

print("Generated dictionary:", num_dict)